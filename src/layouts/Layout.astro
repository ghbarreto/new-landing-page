---
import { Body } from '../components/Body';
import { Header } from '../components/Header';
import Loading from '../templates/Loading.astro';
import { fetchHelper } from '../utils/fetch';
import Card from '../templates/Card.astro';
import { api } from '../utils/api.mock';
import Contributions from '../templates/Contributions.astro';
export interface Props {
    title: string;
}

const { isLoading, data, err }: any = await fetchHelper('users');

const { title } = Astro.props;
---

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width" />
        <meta name="generator" content={Astro.generator} />
        <link rel="icon" href="/logo.png" type="image/x-icon" />
        <title>{title}</title>
    </head>

    <Body client:load>
        <main slot="body">
            <Header client:load />

            {isLoading ? <Loading /> : <Card data={data} />}

            <Contributions data={api.contributions} />

            <footer>this is a footer</footer>
        </main>
    </Body>
</html>
