---
import Tooltip from './Tooltip.astro';
import { colorHelper } from '../utils/color_helper';

const { isLoading, data, error } = Astro.props;
---

<style>
    .__columns {
        columns: 55;
        column-gap: 4px;
    }

    @media (max-width: 800px) {
        .hide-mobile {
            display: none;
        }

        .__columns {
            columns: 18;
            column-gap: 1rem;
        }
    }
</style>

<div class="__columns max-w-4xl">
    {
        Object.keys(data).map((item: any, index) => {
            const o = Object.keys(data[item]);
            const v: any = Object.values(data[item]);
            const isDesktop = index > 260;

            return (
                <>
                    <Tooltip tooltipValues={v} index={index} date={o} />
                    <div
                        data-tooltip-target={`tooltip-default-${index}`}
                        class={`${
                            !isDesktop ? 'hide-mobile' : ''
                        }  border-2 w-4 h-4 border-white rounded-full dark:border-bg_dark dark:hover:border-gray-600 hover:border-gray-400 hover:drop-shadow-md
   			${colorHelper(v)}`}
                    >
                        <div class="invisible" data-tooltip-target="tooltip-default">
                            {v}
                        </div>
                    </div>
                </>
            );
        })
    }
    <script src="https://unpkg.com/flowbite@1.5.3/dist/flowbite.js"></script>
</div>
